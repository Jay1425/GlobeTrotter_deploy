<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GlobeTrotter • Sign up</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="light only" />
  <style>
    :root {
      --bg-neutral: #F0F4F8;
      --text-deep: #1A2B3D;
      --pale-card: #B8D4E3;
      --hover-forest: #2563EB;
      --text-secondary: #64748B;
      --cta: #3B82F6;
      --cta-hover: #2563EB;
      --cool-contrast: #8B5CF6;
      --error: #DC2626;
    }

    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
    }

    /* Luxury animated background */
    .bg-lux-animated {
      background: linear-gradient(120deg, var(--bg-neutral), var(--pale-card), var(--bg-neutral));
      background-size: 200% 200%;
      animation: luxGradient 20s ease-in-out infinite;
    }
    @keyframes luxGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating background elements */
    .blob {
      filter: blur(22px);
      opacity: .28;
      animation: float 30s ease-in-out infinite;
      will-change: transform;
    }
    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      25% { transform: translate(18px, -22px) scale(1.03); }
      50% { transform: translate(-20px, 14px) scale(.97); }
      75% { transform: translate(12px, 18px) scale(1.01); }
    }

    /* Page transition overlay with modern effects */
    .overlay {
      transform: scaleX(0);
      transform-origin: left center;
      transition: transform 600ms cubic-bezier(0.4, 0.0, 0.2, 1);
      background: linear-gradient(45deg, var(--cta), var(--cta-hover), var(--hover-forest));
      background-size: 200% 200%;
      animation: gradientFlow 1.2s ease-in-out;
    }
    .overlay.active {
      transform: scaleX(1);
    }
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Modern entry animations with morphing */
    .slide-in-left {
      animation: modernSlideInLeft .8s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
    }
    .slide-out-right {
      animation: modernSlideOutRight .6s cubic-bezier(0.55, 0.085, 0.68, 0.53) both;
    }
    @keyframes modernSlideInLeft {
      0% { 
        opacity: 0; 
        transform: translateX(-60px) scale(0.9) rotateY(-10deg);
        filter: blur(4px);
      }
      60% {
        opacity: 0.8;
        transform: translateX(-10px) scale(1.02) rotateY(-2deg);
        filter: blur(1px);
      }
      100% { 
        opacity: 1; 
        transform: translateX(0) scale(1) rotateY(0deg);
        filter: blur(0px);
      }
    }
    @keyframes modernSlideOutRight {
      0% { 
        opacity: 1; 
        transform: translateX(0) scale(1) rotateY(0deg);
        filter: blur(0px);
      }
      40% {
        opacity: 0.6;
        transform: translateX(20px) scale(0.98) rotateY(5deg);
        filter: blur(1px);
      }
      100% { 
        opacity: 0; 
        transform: translateX(60px) scale(0.85) rotateY(15deg);
        filter: blur(6px);
      }
    }

    /* Field stagger animation with bounce */
    .field-stagger {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
      transition: transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1), opacity 500ms ease;
    }
    .field-stagger.animate {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Error shake */
    .shake {
      animation: shake .35s ease both;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }

    /* Floating labels */
    .field {
      position: relative;
    }
    .field input, .field select, .field textarea {
      padding-top: 1.25rem;
    }
    .field label {
      position: absolute;
      left: 0.875rem;
      top: 0.9rem;
      pointer-events: none;
      color: var(--text-secondary);
      transition: transform .2s ease, color .2s ease, top .2s ease;
      transform-origin: left top;
    }
    .field input:focus ~ label,
    .field input:not(:placeholder-shown) ~ label,
    .field select:focus ~ label,
    .field select:valid ~ label,
    .field textarea:focus ~ label,
    .field textarea:not(:placeholder-shown) ~ label {
      top: 0.35rem;
      color: var(--hover-forest);
      transform: translateY(-2px) scale(.85);
    }

    /* Country select styling */
    .field select {
      color: var(--text-secondary);
    }
    .field select:focus,
    .field select:valid {
      color: var(--text-deep);
    }
    .field select option {
      color: var(--text-deep);
      background: white;
    }
    .field select option[value=""] {
      color: var(--text-secondary);
    }

    /* Textarea styling */
    .field textarea {
      min-height: 80px;
      max-height: 150px;
      resize: vertical;
    }

    /* Password eye animation */
    .eye svg {
      transition: transform 200ms ease;
    }

    /* Focus ring for accessibility */
    .focus-ring:focus {
      outline: 3px solid rgba(77, 188, 65, .6);
      outline-offset: 2px;
    }

    /* Fixed button styles - prevent size changes */
    .btn-stable {
      min-width: 140px;
      max-width: 400px;
      height: 50px;
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
    }

    .btn-stable:active,
    .btn-stable:focus {
      outline: none;
      min-width: 140px;
      max-width: 400px;
      height: 50px;
      transform: scale(0.98);
    }

    .btn-stable:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn-stable * {
      pointer-events: none;
    }

    /* 3D Travel-Themed Models and Interactive Elements */
    .floating-3d {
      transform-style: preserve-3d;
      animation: float3D 6s ease-in-out infinite;
    }
    @keyframes float3D {
      0%, 100% { transform: translateY(0) rotateX(0deg) rotateY(0deg); }
      25% { transform: translateY(-10px) rotateX(5deg) rotateY(15deg); }
      50% { transform: translateY(-5px) rotateX(-3deg) rotateY(30deg); }
      75% { transform: translateY(-8px) rotateX(2deg) rotateY(15deg); }
    }

    /* Globe 3D */
    .globe-3d {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: conic-gradient(from 0deg, #3B82F6, #1E40AF, #8B5CF6, #3B82F6);
      position: relative;
      animation: spinGlobe 15s linear infinite;
      box-shadow: 0 15px 35px rgba(59, 130, 246, 0.4);
    }
    .globe-3d::before {
      content: '';
      position: absolute;
      inset: 8px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255,255,255,0.3), transparent 40%, rgba(59, 130, 246, 0.2));
      backdrop-filter: blur(2px);
    }
    .globe-3d::after {
      content: '';
      position: absolute;
      top: 20%;
      left: 30%;
      width: 12px;
      height: 8px;
      background: rgba(255,255,255,0.8);
      border-radius: 4px;
      box-shadow: 15px 10px 0 4px rgba(255,255,255,0.6), -8px 15px 0 2px rgba(255,255,255,0.7);
    }
    @keyframes spinGlobe {
      0% { transform: rotateY(0deg) rotateX(15deg); }
      100% { transform: rotateY(360deg) rotateX(15deg); }
    }

    /* Airplane 3D */
    .airplane-3d {
      width: 80px;
      height: 60px;
      position: relative;
      animation: flyAround 12s ease-in-out infinite;
    }
    .airplane-body {
      width: 50px;
      height: 8px;
      background: linear-gradient(90deg, #3B82F6, #1E40AF);
      border-radius: 4px 15px 15px 4px;
      position: absolute;
      top: 26px;
      left: 15px;
    }
    .airplane-wing {
      width: 35px;
      height: 4px;
      background: linear-gradient(90deg, #8B5CF6, #3B82F6);
      border-radius: 8px;
      position: absolute;
      top: 28px;
      left: 5px;
      transform: rotate(-10deg);
    }
    .airplane-tail {
      width: 15px;
      height: 20px;
      background: linear-gradient(45deg, #3B82F6, #8B5CF6);
      border-radius: 2px 8px 8px 2px;
      position: absolute;
      top: 16px;
      left: 8px;
      transform: rotate(10deg);
    }
    @keyframes flyAround {
      0%, 100% { transform: translateX(0) translateY(0) rotate(0deg); }
      25% { transform: translateX(20px) translateY(-15px) rotate(15deg); }
      50% { transform: translateX(0) translateY(-10px) rotate(0deg); }
      75% { transform: translateX(-20px) translateY(-5px) rotate(-15deg); }
    }

    /* Compass 3D */
    .compass-3d {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.9) 30%, rgba(59, 130, 246, 0.3) 70%);
      border: 3px solid rgba(59, 130, 246, 0.6);
      position: relative;
      animation: compassSpin 8s linear infinite;
      box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
    }
    .compass-needle {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 25px;
      background: linear-gradient(to bottom, #DC2626, #3B82F6);
      transform: translate(-50%, -50%);
      border-radius: 1px;
      animation: needleSwing 4s ease-in-out infinite;
    }
    .compass-center {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 6px;
      height: 6px;
      background: #1E40AF;
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }
    @keyframes compassSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes needleSwing {
      0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
      50% { transform: translate(-50%, -50%) rotate(15deg); }
    }

    /* Map Marker 3D */
    .marker-3d {
      width: 40px;
      height: 60px;
      position: relative;
      animation: markerBounce 3s ease-in-out infinite;
    }
    .marker-pin {
      width: 40px;
      height: 50px;
      background: linear-gradient(135deg, #DC2626, #3B82F6);
      border-radius: 50% 50% 50% 0;
      transform: rotate(-45deg);
      position: relative;
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }
    .marker-dot {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 12px;
      height: 12px;
      background: white;
      border-radius: 50%;
      transform: translate(-50%, -50%) rotate(45deg);
    }
    @keyframes markerBounce {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-10px) scale(1.1); }
    }

    /* Luggage 3D */
    .luggage-3d {
      width: 60px;
      height: 70px;
      position: relative;
      animation: luggageRoll 6s ease-in-out infinite;
    }
    .luggage-body {
      width: 50px;
      height: 55px;
      background: linear-gradient(135deg, #3B82F6, #1E40AF);
      border-radius: 8px;
      position: relative;
      box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
    }
    .luggage-handle {
      width: 20px;
      height: 8px;
      background: rgba(59, 130, 246, 0.8);
      border-radius: 4px;
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
    }
    .luggage-wheel {
      width: 8px;
      height: 8px;
      background: #8B5CF6;
      border-radius: 50%;
      position: absolute;
      bottom: -4px;
      animation: wheelSpin 2s linear infinite;
    }
    .luggage-wheel:first-of-type { left: 8px; }
    .luggage-wheel:last-of-type { right: 8px; }
    @keyframes luggageRoll {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      50% { transform: translateX(15px) rotate(5deg); }
    }
    @keyframes wheelSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Travel Route Lines */
    .travel-route {
      width: 100px;
      height: 60px;
      position: relative;
      animation: routeTrace 10s ease-in-out infinite;
    }
    .route-line {
      position: absolute;
      height: 2px;
      background: linear-gradient(90deg, transparent, #3B82F6, transparent);
      border-radius: 1px;
      animation: routePulse 3s ease-in-out infinite;
    }
    .route-line:nth-child(1) {
      width: 60px;
      top: 15px;
      left: 20px;
      transform: rotate(15deg);
    }
    .route-line:nth-child(2) {
      width: 45px;
      top: 35px;
      left: 10px;
      transform: rotate(-20deg);
      animation-delay: 1s;
    }
    .route-line:nth-child(3) {
      width: 70px;
      top: 25px;
      left: 5px;
      transform: rotate(45deg);
      animation-delay: 2s;
    }
    @keyframes routeTrace {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
    @keyframes routePulse {
      0%, 100% { transform: scaleX(1); }
      50% { transform: scaleX(1.2); }
    }

    .interactive-hover:hover {
      transform: translateY(-5px) scale(1.05);
      transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }

    .glow-effect {
      position: relative;
    }
    .glow-effect::before {
      content: '';
      position: absolute;
      inset: -10px;
      background: linear-gradient(45deg, transparent, rgba(77, 188, 65, 0.1), transparent);
      border-radius: 50%;
      animation: rotateGlow 4s linear infinite;
      z-index: -1;
    }
    @keyframes rotateGlow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="min-h-screen bg-lux-animated text-[var(--text-deep)]">
  <!-- Background decorative elements -->
  <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10">
    <div class="blob absolute -top-24 -left-20 w-96 h-96 rounded-full" 
         style="background: radial-gradient(circle at 30% 30%, rgba(84,111,154,0.25), transparent 60%);"></div>
    <div class="blob absolute bottom-0 right-0 w-[30rem] h-[30rem] rounded-full" 
         style="background: radial-gradient(circle at 50% 50%, rgba(171,197,187,0.25), transparent 60%);"></div>
    <div class="blob absolute top-1/2 left-1/2 w-80 h-80 rounded-full transform -translate-x-1/2 -translate-y-1/2" 
         style="background: radial-gradient(circle at 40% 60%, rgba(77,188,65,0.15), transparent 70%);"></div>
  </div>

  <!-- Page transition overlay -->
  <div id="overlay" class="fixed inset-0 z-20 overlay" style="background: var(--cta);"></div>

  <!-- Main container - proper grid layout -->
  <main class="relative z-10 min-h-screen grid grid-cols-1 lg:grid-cols-2">
    <!-- Form section -->
    <section class="flex items-center justify-center p-4 sm:p-6 lg:p-8">
      <div id="card" class="w-full max-w-5xl rounded-3xl bg-white/80 backdrop-blur-xl shadow-2xl ring-1 ring-white/60 p-6 sm:p-8 hover:shadow-3xl transition-all duration-300">
        <!-- Signup Form -->
        <form id="signupForm" role="form" aria-labelledby="su_title" class="space-y-6" autocomplete="on" method="post" action="{{ url_for('signup') }}">
          {{ form.csrf_token }}
          <!-- Header -->
          <header class="space-y-4 mb-6 text-center">
            <!-- Profile Photo Upload -->
            <div class="flex justify-center">
              <div class="relative">
                <div id="profilePhotoContainer" class="w-20 h-20 rounded-full bg-gradient-to-br from-[var(--cta)] to-[var(--cool-contrast)] flex items-center justify-center overflow-hidden border-4 border-white shadow-xl cursor-pointer hover:scale-105 transition-all duration-300">
                  <img id="profilePhoto" src="" alt="Profile" class="w-full h-full object-cover hidden">
                  <svg id="profilePlaceholder" class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                  </svg>
                </div>
                <input type="file" id="profilePhotoInput" accept="image/*" class="hidden" aria-label="Upload profile photo">
                <button type="button" id="uploadPhotoBtn" class="absolute -bottom-1 -right-1 w-6 h-6 bg-[var(--cta)] text-white rounded-full flex items-center justify-center text-xs hover:bg-[var(--cta-hover)] focus:outline-none focus:ring-2 focus:ring-[var(--cta)] focus:ring-offset-2 transition-colors shadow-lg">
                  <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="text-center">
              <h1 id="su_title" class="text-3xl font-extrabold tracking-tight text-[var(--text-deep)] mb-2">
                Start Your Journey
              </h1>
              <p class="text-sm text-[var(--text-secondary)] leading-relaxed max-w-md mx-auto">
                Create your account and unlock personalized travel planning with AI-powered recommendations.
              </p>
            </div>
          </header>

          <!-- Google Sign-up Button -->
          <div class="field-stagger">
            <a href="{{ url_for('google.login') }}"
               class="w-full inline-flex items-center justify-center gap-3 rounded-xl bg-white border border-gray-300 px-6 py-4 font-semibold text-gray-700 shadow-lg transition-all duration-200 hover:scale-[1.02] hover:bg-gray-50 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
               aria-label="Sign up with Google">
              <svg class="w-5 h-5" viewBox="0 0 24 24">
                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
              </svg>
              <span>Continue with Google</span>
            </a>
          </div>

          <!-- Divider -->
          <div class="relative my-6">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="bg-white/90 px-6 text-[var(--text-secondary)] font-medium">Or create account with email</span>
            </div>
          </div>

          <!-- Form fields with stagger animation -->
          <div class="space-y-5">
            <!-- Personal Info Row - 3 columns with icons -->
            <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4">
              <div class="field field-stagger">
                <div class="relative">
        <input id="su_firstName" name="first_name" type="text" required placeholder=" " autocomplete="given-name" value="{{ form.first_name.data or '' }}"
          class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
          aria-required="true" aria-label="First name" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                  </div>
                  <label for="su_firstName" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-placeholder-shown:left-12 peer-placeholder-shown:top-3.5 peer-placeholder-shown:scale-100 peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)] peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)]">First Name</label>
                </div>
              </div>

              <div class="field field-stagger">
                <div class="relative">
        <input id="su_lastName" name="last_name" type="text" required placeholder=" " autocomplete="family-name" value="{{ form.last_name.data or '' }}"
          class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
          aria-required="true" aria-label="Last name" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                  </div>
                  <label for="su_lastName" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-placeholder-shown:left-12 peer-placeholder-shown:top-3.5 peer-placeholder-shown:scale-100 peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)] peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)]">Last Name</label>
                </div>
              </div>

              <div class="field field-stagger">
                <div class="relative">
        <input id="su_phone" name="phone" type="tel" inputmode="tel" placeholder=" " autocomplete="tel" value="{{ form.phone.data or '' }}"
          class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
          aria-required="true" aria-label="Phone number" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                  </div>
                  <label for="su_phone" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-placeholder-shown:left-12 peer-placeholder-shown:top-3.5 peer-placeholder-shown:scale-100 peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)] peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)]">Phone Number</label>
                </div>
              </div>
            </div>

            <!-- Email Row - Full Width -->
            <div class="field field-stagger">
              <div class="relative">
                <input id="su_email" name="email" type="email" inputmode="email" required placeholder=" " autocomplete="email" value="{{ form.email.data or '' }}"
                       class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
                       aria-required="true" aria-label="Email address" />
                <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/>
                  </svg>
                </div>
                <label for="su_email" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-placeholder-shown:left-12 peer-placeholder-shown:top-3.5 peer-placeholder-shown:scale-100 peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)] peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)]">Email Address</label>
              </div>
            </div>

            <!-- Location Row - 2 columns -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="field field-stagger">
                <div class="relative">
                  <input id="su_city" name="city" type="text" placeholder=" " autocomplete="address-level2" value="{{ form.city.data or '' }}"
                         class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
                         aria-required="true" aria-label="City" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </div>
                  <label for="su_city" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-placeholder-shown:left-12 peer-placeholder-shown:top-3.5 peer-placeholder-shown:scale-100 peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)] peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)]">City</label>
                </div>
              </div>

              <div class="field field-stagger">
                <div class="relative">
  <select id="su_country" name="country" 
        class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-4 pl-11 pr-10 text-[var(--text-deep)] shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none appearance-none cursor-pointer hover:border-gray-300" 
                          aria-required="true" aria-label="Country">
        <option value="" class="text-gray-500" {% if not form.country.data %}selected{% endif %}>Select Country</option>
        <option value="US" {% if form.country.data=='US' %}selected{% endif %}>United States</option>
        <option value="CA" {% if form.country.data=='CA' %}selected{% endif %}>Canada</option>
        <option value="GB" {% if form.country.data=='GB' %}selected{% endif %}>United Kingdom</option>
        <option value="DE" {% if form.country.data=='DE' %}selected{% endif %}>Germany</option>
        <option value="FR" {% if form.country.data=='FR' %}selected{% endif %}>France</option>
        <option value="IT" {% if form.country.data=='IT' %}selected{% endif %}>Italy</option>
        <option value="ES" {% if form.country.data=='ES' %}selected{% endif %}>Spain</option>
        <option value="AU" {% if form.country.data=='AU' %}selected{% endif %}>Australia</option>
        <option value="JP" {% if form.country.data=='JP' %}selected{% endif %}>Japan</option>
        <option value="IN" {% if form.country.data=='IN' %}selected{% endif %}>India</option>
        <option value="BR" {% if form.country.data=='BR' %}selected{% endif %}>Brazil</option>
        <option value="MX" {% if form.country.data=='MX' %}selected{% endif %}>Mexico</option>
        <option value="NL" {% if form.country.data=='NL' %}selected{% endif %}>Netherlands</option>
        <option value="BE" {% if form.country.data=='BE' %}selected{% endif %}>Belgium</option>
        <option value="CH" {% if form.country.data=='CH' %}selected{% endif %}>Switzerland</option>
        <option value="SE" {% if form.country.data=='SE' %}selected{% endif %}>Sweden</option>
        <option value="NO" {% if form.country.data=='NO' %}selected{% endif %}>Norway</option>
        <option value="DK" {% if form.country.data=='DK' %}selected{% endif %}>Denmark</option>
        <option value="FI" {% if form.country.data=='FI' %}selected{% endif %}>Finland</option>
        <option value="SG" {% if form.country.data=='SG' %}selected{% endif %}>Singapore</option>
        <option value="HK" {% if form.country.data=='HK' %}selected{% endif %}>Hong Kong</option>
        <option value="NZ" {% if form.country.data=='NZ' %}selected{% endif %}>New Zealand</option>
        <option value="ZA" {% if form.country.data=='ZA' %}selected{% endif %}>South Africa</option>
        <option value="AE" {% if form.country.data=='AE' %}selected{% endif %}>United Arab Emirates</option>
        <option value="other" {% if form.country.data=='other' %}selected{% endif %}>Other</option>
                  </select>
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </div>
                  <label for="su_country" class="absolute left-12 top-1 text-gray-500 text-sm transition-all duration-200 origin-left scale-75">Country</label>
                </div>
              </div>
            </div>

            <!-- Password Row - 2 columns -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="field field-stagger">
                <div class="relative">
                  <input id="su_password" name="password" type="password" required placeholder=" " autocomplete="new-password"
                         class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 pr-12 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
                         aria-required="true" aria-label="Password" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                  </div>
                  <button type="button" class="eye absolute inset-y-0 right-0 my-auto mr-3 grid place-items-center rounded-lg p-2 text-gray-400 hover:text-[var(--cta)] focus:outline-none focus:ring-2 focus:ring-[var(--cta)]/20 transition-colors" 
                          aria-label="Toggle password visibility" aria-pressed="false" data-target="su_password">
                    <svg class="h-4 w-4 eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z"></path>
                      <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                    <svg class="h-4 w-4 eye-closed hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                      <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                      <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 11 8 11 8a13.16 13.16 0 0 1-1.67 2.68"></path>
                      <path d="M6.61 6.61A13.526 13.526 0 0 0 1 12s4 8 11 8a9.74 9.74 0 0 0 5.39-1.61"></path>
                      <line x1="2" y1="2" x2="22" y2="22"></line>
                    </svg>
                  </button>
                  <label for="su_password" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)] peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)]">Password</label>
                </div>
              </div>

              <div class="field field-stagger">
                <div class="relative">
                  <input id="su_confirm" name="confirm" type="password" required placeholder=" " autocomplete="new-password"
                         class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 pr-12 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none hover:border-gray-300" 
                         aria-required="true" aria-label="Confirm password" />
                  <div class="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                  </div>
                  <button type="button" class="eye absolute inset-y-0 right-0 my-auto mr-3 grid place-items-center rounded-lg p-2 text-gray-400 hover:text-[var(--cta)] focus:outline-none focus:ring-2 focus:ring-[var(--cta)]/20 transition-colors" 
                          aria-label="Toggle confirm password visibility" aria-pressed="false" data-target="su_confirm">
                    <svg class="h-4 w-4 eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z"></path>
                      <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                    <svg class="h-4 w-4 eye-closed hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                      <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                      <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 11 8 11 8a13.16 13.16 0 0 1-1.67 2.68"></path>
                      <path d="M6.61 6.61A13.526 13.526 0 0 0 1 12s4 8 11 8a9.74 9.74 0 0 0 5.39-1.61"></path>
                      <line x1="2" y1="2" x2="22" y2="22"></line>
                    </svg>
                  </button>
                  <label for="su_confirm" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)] peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)]">Confirm Password</label>
                </div>
              </div>
            </div>

            <!-- Additional Info - Full width with icon -->
            <div class="field field-stagger">
              <div class="relative">
                <textarea id="su_additionalInfo" name="additionalInfo" rows="3" placeholder=" " 
                          class="peer w-full rounded-xl border-2 border-gray-200 bg-white/90 px-4 py-3.5 pl-11 text-[var(--text-deep)] placeholder-transparent shadow-sm transition-all duration-200 focus:border-[var(--cta)] focus:ring-4 focus:ring-[var(--cta)]/20 focus:outline-none resize-none hover:border-gray-300" 
                          aria-label="Additional information">{{ form.additionalInfo.data or '' }}</textarea>
                <div class="absolute left-3.5 top-4 text-gray-400 transition-colors duration-200 peer-focus:text-[var(--cta)]">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/>
                  </svg>
                </div>
                <label for="su_additionalInfo" class="absolute left-12 top-3.5 text-gray-500 text-sm transition-all duration-200 origin-left peer-valid:left-12 peer-valid:top-1 peer-valid:scale-75 peer-valid:text-[var(--cta)] peer-focus:left-12 peer-focus:top-1 peer-focus:scale-75 peer-focus:text-[var(--cta)]">Tell us about your travel interests (Optional)</label>
              </div>
            </div>
          </div>

          <!-- Submit button -->
          <div class="field-stagger">
            <button type="submit" 
                    class="btn-stable w-full inline-flex items-center justify-center gap-3 rounded-xl bg-gradient-to-r from-[var(--cta)] to-[var(--cta-hover)] px-8 py-4 font-semibold text-white shadow-lg shadow-blue-600/25 transition-all duration-200 hover:scale-[1.02] hover:shadow-xl hover:shadow-blue-600/30 focus:outline-none focus:ring-4 focus:ring-blue-500/20 active:scale-[0.98]" 
                    aria-label="Create account">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
              </svg>
              <span>Create your travel account</span>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
              </svg>
            </button>
          </div>

          <!-- Navigation link and features -->
          <div class="field-stagger text-center space-y-4">
            <p class="text-sm text-[var(--text-secondary)]">
              Already exploring with us?
              <a id="toLogin" href="{{ url_for('login') }}" 
                 class="font-semibold text-[var(--cta)] hover:text-[var(--cta-hover)] hover:underline focus:outline-none focus:ring-2 focus:ring-[var(--cta)]/20 rounded ml-1 transition-colors">
                Sign in here
              </a>
            </p>
            
            <!-- Feature highlights -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200">
              <div class="flex items-center justify-center gap-2 text-xs text-gray-500">
                <svg class="w-4 h-4 text-[var(--cta)]" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                </svg>
                <span>Personalized planning</span>
              </div>
              <div class="flex items-center justify-center gap-2 text-xs text-gray-500">
                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span>Secure & private</span>
              </div>
              <div class="flex items-center justify-center gap-2 text-xs text-gray-500">
                <svg class="w-4 h-4 text-[var(--cool-contrast)]" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                </svg>
                <span>AI-powered insights</span>
              </div>
            </div>
          </div>
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              <div class="mt-4 space-y-2">
                {% for category, message in messages %}
                  <div class="text-sm px-3 py-2 rounded-lg {{ 'text-green-700 bg-green-50 border border-green-200' if category=='success' else 'text-red-700 bg-red-50 border border-red-200' }}">{{ message }}</div>
                {% endfor %}
              </div>
            {% endif %}
          {% endwith %}
        </form>
      </div>
    </section>

    <!-- Right side decorative content with enhanced 3D models -->
    <aside class="hidden lg:flex items-center justify-center p-12 bg-gradient-to-br from-blue-50/30 via-purple-50/20 to-transparent relative overflow-hidden">
      <!-- Enhanced Particle System Background -->
      <div class="particle-system">
        <div class="particle" style="left: 10%; animation-delay: 0s; background: linear-gradient(45deg, #3B82F6, #8B5CF6);"></div>
        <div class="particle" style="left: 25%; animation-delay: 1s; background: linear-gradient(45deg, #06B6D4, #3B82F6);"></div>
        <div class="particle" style="left: 40%; animation-delay: 2s; background: linear-gradient(45deg, #8B5CF6, #EC4899);"></div>
        <div class="particle" style="left: 60%; animation-delay: 3s; background: linear-gradient(45deg, #10B981, #06B6D4);"></div>
        <div class="particle" style="left: 80%; animation-delay: 4s; background: linear-gradient(45deg, #F59E0B, #EF4444);"></div>
        <div class="particle" style="left: 90%; animation-delay: 5s; background: linear-gradient(45deg, #3B82F6, #10B981);"></div>
      </div>

      <!-- Enhanced 3D Models Container -->
      <div class="absolute inset-0 flex items-center justify-center">
        <!-- Central Rotating Globe with Glow -->
        <div class="floating-3d absolute top-20 right-20" style="animation-delay: 0s;">
          <div class="globe-3d interactive-hover glow-effect" style="background: linear-gradient(135deg, #3B82F6, #1E40AF); box-shadow: 0 0 30px rgba(59, 130, 246, 0.4), inset 0 0 20px rgba(255, 255, 255, 0.1);"></div>
        </div>

        <!-- Modern Flying Airplane -->
        <div class="floating-3d absolute top-40 left-20" style="animation-delay: -2s;">
          <div class="airplane-3d interactive-hover" style="filter: drop-shadow(0 4px 8px rgba(59, 130, 246, 0.3));">
            <div class="airplane-body" style="background: linear-gradient(90deg, #3B82F6, #1E40AF);"></div>
            <div class="airplane-wing" style="background: linear-gradient(45deg, #60A5FA, #3B82F6);"></div>
            <div class="airplane-tail" style="background: linear-gradient(135deg, #1E40AF, #1E3A8A);"></div>
          </div>
        </div>

        <!-- Enhanced Spinning Compass -->
        <div class="floating-3d absolute bottom-40 right-20" style="animation-delay: -4s;">
          <div class="compass-3d interactive-hover glow-effect" style="background: linear-gradient(45deg, #8B5CF6, #7C3AED); box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);">
            <div class="compass-needle" style="background: linear-gradient(90deg, #EF4444, #DC2626); box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);"></div>
            <div class="compass-center" style="background: radial-gradient(circle, #F59E0B, #D97706);"></div>
          </div>
        </div>

        <!-- Glowing Map Marker -->
        <div class="floating-3d absolute bottom-24 left-24" style="animation-delay: -1s;">
          <div class="marker-3d interactive-hover" style="filter: drop-shadow(0 4px 12px rgba(239, 68, 68, 0.4));">
            <div class="marker-pin" style="background: linear-gradient(135deg, #EF4444, #DC2626);">
              <div class="marker-dot" style="background: radial-gradient(circle, #FBBF24, #F59E0B); box-shadow: 0 0 8px rgba(251, 191, 36, 0.6);"></div>
            </div>
          </div>
        </div>

        <!-- Stylish Rolling Luggage -->
        <div class="floating-3d absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" style="animation-delay: -3s;">
          <div class="luggage-3d interactive-hover" style="filter: drop-shadow(0 6px 12px rgba(16, 185, 129, 0.3));">
            <div class="luggage-body" style="background: linear-gradient(135deg, #10B981, #059669);">
              <div class="luggage-handle" style="background: linear-gradient(90deg, #374151, #1F2937);"></div>
              <div class="luggage-wheel" style="background: radial-gradient(circle, #6B7280, #374151);"></div>
              <div class="luggage-wheel" style="background: radial-gradient(circle, #6B7280, #374151);"></div>
            </div>
          </div>
        </div>

        <!-- Animated Travel Routes -->
        <div class="floating-3d absolute top-1/3 right-1/3" style="animation-delay: -5s;">
          <div class="travel-route interactive-hover">
            <div class="route-line" style="background: linear-gradient(90deg, transparent, #3B82F6, transparent); box-shadow: 0 0 4px rgba(59, 130, 246, 0.4);"></div>
            <div class="route-line" style="background: linear-gradient(90deg, transparent, #8B5CF6, transparent); box-shadow: 0 0 4px rgba(139, 92, 246, 0.4);"></div>
            <div class="route-line" style="background: linear-gradient(90deg, transparent, #06B6D4, transparent); box-shadow: 0 0 4px rgba(6, 182, 212, 0.4);"></div>
          </div>
        </div>

        <!-- Additional Floating Elements -->
        <div class="floating-3d absolute top-16 left-1/3" style="animation-delay: -2.5s;">
          <div class="compass-3d interactive-hover glow-effect" style="width: 35px; height: 35px; background: linear-gradient(45deg, #06B6D4, #0891B2); box-shadow: 0 0 15px rgba(6, 182, 212, 0.3);">
            <div class="compass-needle" style="background: linear-gradient(90deg, #F59E0B, #D97706);"></div>
            <div class="compass-center" style="background: radial-gradient(circle, #EF4444, #DC2626);"></div>
          </div>
        </div>

        <div class="floating-3d absolute bottom-32 left-1/2" style="animation-delay: -1.5s;">
          <div class="globe-3d interactive-hover" style="width: 40px; height: 40px; background: linear-gradient(135deg, #10B981, #059669); box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);"></div>
        </div>
      </div>

      <!-- Enhanced Main Content -->
      <div class="max-w-lg text-center relative z-10">
        <div class="mb-8 inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-white/50 to-white/30 px-6 py-3 text-sm font-medium tracking-wide text-[var(--text-deep)] ring-1 ring-white/50 backdrop-blur-md shadow-lg">
          <svg class="w-4 h-4 text-[var(--cta)]" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
          </svg>
          <span>Explore • Plan • Experience</span>
          <svg class="w-4 h-4 text-[var(--cool-contrast)]" fill="currentColor" viewBox="0 0 20 20">
            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
          </svg>
        </div>
        
        <h2 class="text-5xl leading-tight font-extrabold text-[var(--text-deep)] mb-6 bg-gradient-to-r from-[var(--text-deep)] via-[var(--cta)] to-[var(--cool-contrast)] bg-clip-text text-transparent">
          Your Journey<br/>Begins Here
        </h2>
        
        <p class="text-lg text-[var(--text-secondary)] leading-relaxed mb-8 max-w-md mx-auto">
          Join thousands of travelers using AI-powered insights to create unforgettable adventures. Personalized recommendations, smart itineraries, and seamless planning await.
        </p>
        
        <!-- Enhanced Interactive Stats with Icons -->
        <div class="grid grid-cols-2 gap-4 mt-8 mb-8">
          <div class="text-center interactive-hover p-6 rounded-2xl bg-gradient-to-br from-white/30 to-white/10 backdrop-blur-md border border-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:shadow-xl">
            <div class="flex items-center justify-center mb-3">
              <div class="w-12 h-12 rounded-full bg-gradient-to-r from-[var(--cta)] to-[var(--cta-hover)] flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
            </div>
            <div class="text-3xl font-bold text-[var(--cta)] mb-2">50K+</div>
            <div class="text-sm font-medium text-[var(--text-secondary)]">Happy Travelers</div>
          </div>
          
          <div class="text-center interactive-hover p-6 rounded-2xl bg-gradient-to-br from-white/30 to-white/10 backdrop-blur-md border border-white/20 hover:border-white/40 transition-all duration-300 shadow-lg hover:shadow-xl">
            <div class="flex items-center justify-center mb-3">
              <div class="w-12 h-12 rounded-full bg-gradient-to-r from-[var(--cool-contrast)] to-[var(--hover-forest)] flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                </svg>
              </div>
            </div>
            <div class="text-3xl font-bold text-[var(--cool-contrast)] mb-2">195</div>
            <div class="text-sm font-medium text-[var(--text-secondary)]">Global Destinations</div>
          </div>
        </div>

        <!-- Feature highlights -->
        <div class="space-y-3">
          <div class="flex items-center justify-center gap-3 text-sm text-[var(--text-secondary)]">
            <div class="w-2 h-2 bg-gradient-to-r from-[var(--cta)] to-[var(--cta-hover)] rounded-full animate-pulse"></div>
            <span>AI-powered travel recommendations</span>
          </div>
          <div class="flex items-center justify-center gap-3 text-sm text-[var(--text-secondary)]">
            <div class="w-2 h-2 bg-gradient-to-r from-[var(--cool-contrast)] to-[var(--hover-forest)] rounded-full animate-pulse" style="animation-delay: 0.5s;"></div>
            <span>Smart itinerary planning & optimization</span>
          </div>
          <div class="flex items-center justify-center gap-3 text-sm text-[var(--text-secondary)]">
            <div class="w-2 h-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse" style="animation-delay: 1s;"></div>
            <span>Community-driven insights & reviews</span>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <script>
    (function(){
      const card = document.getElementById('card');
      const toLogin = document.getElementById('toLogin');
      const overlay = document.getElementById('overlay');
      const staggerElements = document.querySelectorAll('.field-stagger');

      // Check if coming from login page
      const cameFrom = sessionStorage.getItem('navFrom');
      
      // Initial slide-in from left animation
      function initializeAnimations() {
        // If coming from login, play overlay wipe first
        if (cameFrom === 'login') {
          overlay.style.transformOrigin = 'left center';
          overlay.classList.add('active');
          
          setTimeout(() => {
            overlay.classList.remove('active');
            sessionStorage.removeItem('navFrom');
            startFormAnimations();
          }, 650);
        } else {
          startFormAnimations();
        }
      }

      function startFormAnimations() {
        card.classList.add('slide-in-left');
        
        // Enhanced stagger with bounce timing
        staggerElements.forEach((el, index) => {
          setTimeout(() => {
            el.classList.add('animate');
          }, 400 + (index * 120));
        });

        // Clean up slide animation class
        setTimeout(() => {
          card.classList.remove('slide-in-left');
        }, 800);
      }

      // Password visibility toggles
      document.querySelectorAll('.eye').forEach(btn => {
        btn.addEventListener('click', () => {
          const targetId = btn.getAttribute('data-target');
          const input = document.getElementById(targetId);
          const isPasswordVisible = input.type === 'text';
          const eyeOpen = btn.querySelector('.eye-open');
          const eyeClosed = btn.querySelector('.eye-closed');
          
          // Toggle input type
          input.type = isPasswordVisible ? 'password' : 'text';
          btn.setAttribute('aria-pressed', String(!isPasswordVisible));
          
          // Toggle icons
          if (isPasswordVisible) {
            // Password will be hidden - show eye-open icon
            eyeOpen.classList.remove('hidden');
            eyeClosed.classList.add('hidden');
          } else {
            // Password will be visible - show eye-closed icon
            eyeOpen.classList.add('hidden');
            eyeClosed.classList.remove('hidden');
          }
          
          // Subtle rotation animation
          btn.style.transform = !isPasswordVisible ? 'rotate(15deg)' : 'rotate(0deg)';
          setTimeout(() => {
            btn.style.transform = 'rotate(0deg)';
          }, 200);
        });
      });

      // Form validation and submission
  document.getElementById('signupForm').addEventListener('submit', (e) => {
        const firstName = document.getElementById('su_firstName');
        const lastName = document.getElementById('su_lastName');
        const email = document.getElementById('su_email');
        const phone = document.getElementById('su_phone');
        const city = document.getElementById('su_city');
        const country = document.getElementById('su_country');
        const password = document.getElementById('su_password');
        const confirm = document.getElementById('su_confirm');
        
        let isValid = true;
        
        // First name validation
        if (firstName.value.trim().length < 2) {
          isValid = false;
          firstName.style.borderColor = 'var(--error)';
          firstName.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        // Last name validation
        if (lastName.value.trim().length < 2) {
          isValid = false;
          lastName.style.borderColor = 'var(--error)';
          lastName.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email.value.trim())) {
          isValid = false;
          email.style.borderColor = 'var(--error)';
          email.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        // Phone validation (basic, optional)
        const phoneRegex = /^[\+]?[\d\s\-\(\)]{10,}$/;
        if (phone.value.trim() && !phoneRegex.test(phone.value.trim())) {
          isValid = false;
          phone.style.borderColor = 'var(--error)';
          phone.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        // City validation (optional)
        if (city.value.trim() && city.value.trim().length < 2) {
          isValid = false;
          city.style.borderColor = 'var(--error)';
          city.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
  // Country is optional on client side; no strict validation
        
        // Password validation
        if (password.value.length < 8) {
          isValid = false;
          password.style.borderColor = 'var(--error)';
          password.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        // Confirm password validation
        if (password.value !== confirm.value) {
          isValid = false;
          confirm.style.borderColor = 'var(--error)';
          confirm.style.boxShadow = '0 0 0 4px rgba(220, 38, 38, 0.15)';
        }
        
        if (!isValid) {
          e.preventDefault();
          // Shake animation for errors
          card.classList.remove('shake');
          void card.offsetWidth; // Force reflow
          card.classList.add('shake');
          
          // Reset error styles after animation
          setTimeout(() => {
            [firstName, lastName, email, phone, city, country, password, confirm].forEach(input => {
              input.style.borderColor = '';
              input.style.boxShadow = '';
            });
          }, 2000);
          
          return;
        }
        // If valid, allow native form submission to Flask
      });

      // Navigation to login page with enhanced animation
      toLogin.addEventListener('click', (e) => {
        e.preventDefault();
        
        overlay.style.transformOrigin = 'right center';
        overlay.classList.add('active');
        card.classList.add('slide-out-right');
        sessionStorage.setItem('navFrom', 'signup');
        
        setTimeout(() => {
          window.location.href = "{{ url_for('login') }}?from=signup";
        }, 380);
      });

      // Initialize animations on load
      initializeAnimations();

      // Profile photo upload functionality
      const profilePhotoInput = document.getElementById('profilePhotoInput');
      const profilePhotoContainer = document.getElementById('profilePhotoContainer');
      const profilePhoto = document.getElementById('profilePhoto');
      const profilePlaceholder = document.getElementById('profilePlaceholder');
      const uploadPhotoBtn = document.getElementById('uploadPhotoBtn');

      // Click handlers for photo upload
      profilePhotoContainer.addEventListener('click', () => {
        profilePhotoInput.click();
      });

      uploadPhotoBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        profilePhotoInput.click();
      });

      // Handle file selection
      profilePhotoInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file && file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = (e) => {
            profilePhoto.src = e.target.result;
            profilePhoto.classList.remove('hidden');
            profilePlaceholder.classList.add('hidden');
            
            // Add a nice scale animation
            profilePhotoContainer.style.transform = 'scale(0.9)';
            setTimeout(() => {
              profilePhotoContainer.style.transform = 'scale(1)';
              profilePhotoContainer.style.transition = 'transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)';
            }, 100);
          };
          reader.readAsDataURL(file);
        }
      });

      // Country select enhancement
      const countrySelect = document.getElementById('su_country');
      countrySelect.addEventListener('change', function() {
        if (this.value) {
          this.style.color = 'var(--text-deep)';
        } else {
          this.style.color = 'var(--text-secondary)';
        }
      });

      // Textarea auto-resize for additional info
      const additionalInfoTextarea = document.getElementById('su_additionalInfo');
      additionalInfoTextarea.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = Math.min(this.scrollHeight, 150) + 'px';
      });

      // Add interactive 3D model click handlers
      document.querySelectorAll('.interactive-hover').forEach(element => {
        element.addEventListener('click', function() {
          this.style.transform = 'translateY(-10px) scale(1.1) rotateY(360deg)';
          this.style.transition = 'all 0.6s cubic-bezier(0.4, 0.0, 0.2, 1)';
          
          setTimeout(() => {
            this.style.transform = '';
            this.style.transition = '';
          }, 600);
        });

        element.addEventListener('mouseenter', function() {
          this.style.filter = 'brightness(1.2) drop-shadow(0 10px 25px rgba(77, 188, 65, 0.4))';
        });

        element.addEventListener('mouseleave', function() {
          this.style.filter = '';
        });
      });

      // Dynamic particle generation
      function createParticle() {
        const particleSystem = document.querySelector('.particle-system');
        if (!particleSystem) return;

        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = '0s';
        particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
        
        particleSystem.appendChild(particle);

        setTimeout(() => {
          if (particle.parentNode) {
            particle.parentNode.removeChild(particle);
          }
        }, 8000);
      }

      // Create particles periodically
      setInterval(createParticle, 2000);
    })();
  </script>
</body>
</html>
